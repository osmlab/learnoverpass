<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us"><head><link href="http://gmpg.org/xfn/11" rel="profile"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><title>By Area</title><link rel="stylesheet" href="//osmlab.github.io/learnoverpass//css/main.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png"><link href="/favicon.png" rel="icon"><link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700' rel='stylesheet' type='text/css'><link href="" rel="alternate" type="application/rss+xml" title="LearnOverpass &middot; " /><meta name="description" content=""><meta name="keywords" content=""> </head><body> <div class="menu-bar"><h1> <a href="//osmlab.github.io/learnoverpass//">LearnOverpass</a></h1></div><div class="exercise-container"><div class="exercise-lesson"><div class="exercise-lesson-bar"><div class="line">Intro</div></div><div class="exercise-lesson-inner"><div class="exercise-lesson-article"><h2> By Area  <a class="docs-improve" href="https://github.com/osmlab/learnoverpass/edit/master/content/en/exercises/intro/7.md">Improve page</a></h2> <p>“Bingo!” Bob says as he walks towards the restaurant.</p>

<p>See how powerful the Overpass QL is in querying OSM data? It has a plethora of different filters and statements, and combining them with each other can create even more specific queries for your use cases.</p>

<p>Our previous example introduces a very important metaphor in the Overpass Query Language, which is ‘flow’. A good way to think of the Overpass API is that it allows OSM data (nodes, etc.) to be generated and modified as it ‘flows’ from one statement to another. </p>

<p>As a concrete example, our bounding box query (the lat/lon points) finds the nodes in that area. The resulting data will then ‘flow’ and get filtered <code>[natural=tree]</code>, <code>[height=20]</code>, etc.</p>

<p>If you notice, <code>(around:n)</code> works the same way, in that our initial data flows in it, and gets modified to show the nodes around the initial data that is produced by our first line.</p>

<p>“Wow!” Bob exclaims, “That was a very good meal!”</p>

<p>“That would be 25 Euros sir” says the waiter, dressed in an all white attire.</p>

<p>“Coming right up!” Bob says proudly, when&hellip;</p>

<p>“Uh oh! I seem to have left my wallet at the observatory!”</p>

<p>Flustered, Bob ran outside the restaurant, hoping to get back to his wallet.</p>
</div><div class="exercise-lesson-instruction"><div class="exercise-lesson-label"> <span>Instructions</span></div> <ol>
<li>Bob left his wallet as he was touring the city! He distinctly remembered leaving his wallet at a certain <strong>observatory tower</strong> in the <em>Inn</em> river.</li>
<li>That observatory is quite a far away, so it would be better to make sure that our resulting query also shows our current position (so we don’t get lost!) If you notice in the editor on the right, we have two <code>out</code> statements, with a blank line in between them. Overpass QL can use multiple <code>out</code> statements. If you think of QL statements as <em>sentences</em>, you can think of our structure here as two different paragraphs. Our first ‘paragraph’ is the query we’ve been using so far, and only prints the restaurant where Bob is. The second ‘paragraph’ is what you need to edit.</li>
<li>We need to find a node that is an <em>observatory tower</em>. We can use the filter <code>[&quot;tower:type&quot;=observation]</code> for this. Note how we surround the filter type with apostrophes - we do this since it contains a non alphabet character (namely <code>:</code>)</li>
<li>Finding observatory tower nodes is easy, but how can we limit our results observatories in the Inn river? Using a <em>bounding box</em> would be too tricky. What we can opt to do is to query by <code>area</code>. Since we know that the tower is in a particular area (<em>Inn</em> River), we can use that info in making our query.</li>
<li>As you can see in the editor, the 5th line has the <code>area</code> keyword. This is just like the keyword <code>node</code> we have used so far, but instead of querying for a single point of interest like a node, <code>area</code> queries for a&hellip; well, an <em>area</em>!</li>
<li>We know that the name of the river is <em>Inn</em>. We can use this as a filter for our area. Go ahead and use <code>[name=Inn]</code> as a filter in the <code>area</code> statement.</li>
<li>We don’t really want to query for the area, instead, we just want to <em>use</em> the area to find a particular node in it. So in the sixth line, type in your  <code>node</code> statement, along with the tower type filter discussed in 2.</li>
<li>Once that’s done, we still need to make sure the node only queries inside the area we defined. To do this, change your bare <code>node</code> statement to <code>node(area)</code>. This tells overpass to only query for nodes inside the area you defined on the area statement!</li>
</ol>
</div></div></div><div class="docs-repl exercise-main"><div class="editor-cover"></div> <textarea>node(48.5657094, 13.4490548, 48.5662416, 13.4501676)[natural=tree][height=20];
node(around:150)[amenity=restaurant];
out;

area;
out;
</textarea><div class="exercise-fail-msg"><div class="message"> <span class="warning">That doesn't seem right!</span> <span class="hint">Remember to use an <code>area</code> query!</span></div></div><div class="exercise-action-bar"><div class="exercise-action-bar-inner winner-bar"><div> <span>Awesome Work!</span> <a href="//osmlab.github.io/learnoverpass/en/exercises/intro/8/" class="exercise-action-next">Go to Next Lesson</a></div></div><div class="exercise-action-bar-inner"><div> <a href="#" class="exercise-action-run">Run Query</a> <a href="#" class="exercise-action-reset">Reset Code</a></div></div></div><div class="docs-repl-result output"><iframe src="http://overpass-turbo.eu/master/map.html" seamless="seamless" frameBorder="0"></iframe><textarea></textarea> <a class="docs-repl-change-output button" href="#">Data</a></div></div><div class="exercise-answer">node(48.5657094, 13.4490548, 48.5662416, 13.4501676)[natural=tree][height=20];
node(around:150)[amenity=restaurant];
out;

area[name=Inn];
node(area)[&#34;tower:type&#34;=observation];
out;
</div><div class="exercise-regex"></div></div> <script src="//osmlab.github.io/learnoverpass//js/vendor.bundle.js"></script> <script src="//osmlab.github.io/learnoverpass//js/exercise.bundle.js"></script> </body></html>